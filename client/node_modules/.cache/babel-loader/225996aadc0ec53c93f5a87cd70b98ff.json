{"ast":null,"code":"var _jsxFileName = \"/Users/apple/capstone2/client/src/hoc/auth.js\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { auth } from \"../_actions/user_action\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function (SpecificComponent, option) {\n  var _s = $RefreshSig$();\n\n  let adminRoute = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  function AuthenticationCheck(props) {\n    _s();\n\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    useEffect(() => {\n      dispatch(auth()).then(response => {\n        console.log(response);\n\n        if (!response.payload.isAuth) {\n          if (option) {\n            navigate(\"/login\");\n          }\n        } else {\n          if (adminRoute && !response.payload.isAdmin) {\n            navigate(\"/\");\n          } else {\n            if (option === false) {\n              navigate(\"/\");\n            }\n          }\n        }\n      });\n    }, []);\n    return /*#__PURE__*/_jsxDEV(SpecificComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 12\n    }, this);\n  }\n\n  _s(AuthenticationCheck, \"s5YDugppCHA/sTog5Ue+JVWibms=\", false, function () {\n    return [useDispatch, useNavigate];\n  });\n\n  return AuthenticationCheck;\n}","map":{"version":3,"names":["React","useEffect","useDispatch","auth","useNavigate","SpecificComponent","option","adminRoute","AuthenticationCheck","props","dispatch","navigate","then","response","console","log","payload","isAuth","isAdmin"],"sources":["/Users/apple/capstone2/client/src/hoc/auth.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { auth } from \"../_actions/user_action\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function (SpecificComponent, option, adminRoute = null) {\r\n  function AuthenticationCheck(props) {\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n      dispatch(auth()).then((response) => {\r\n        console.log(response);\r\n\r\n        if (!response.payload.isAuth) {\r\n          if (option) {\r\n            navigate(\"/login\");\r\n          }\r\n        } else {\r\n          if (adminRoute && !response.payload.isAdmin) {\r\n            navigate(\"/\");\r\n          } else {\r\n            if (option === false) {\r\n              navigate(\"/\");\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }, []);\r\n\r\n    return <SpecificComponent />;\r\n  }\r\n\r\n  return AuthenticationCheck;\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,IAAT,QAAqB,yBAArB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;AAEA,eAAe,UAAUC,iBAAV,EAA6BC,MAA7B,EAAwD;EAAA;;EAAA,IAAnBC,UAAmB,uEAAN,IAAM;;EACrE,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;IAAA;;IAClC,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;IACA,MAAMS,QAAQ,GAAGP,WAAW,EAA5B;IAEAH,SAAS,CAAC,MAAM;MACdS,QAAQ,CAACP,IAAI,EAAL,CAAR,CAAiBS,IAAjB,CAAuBC,QAAD,IAAc;QAClCC,OAAO,CAACC,GAAR,CAAYF,QAAZ;;QAEA,IAAI,CAACA,QAAQ,CAACG,OAAT,CAAiBC,MAAtB,EAA8B;UAC5B,IAAIX,MAAJ,EAAY;YACVK,QAAQ,CAAC,QAAD,CAAR;UACD;QACF,CAJD,MAIO;UACL,IAAIJ,UAAU,IAAI,CAACM,QAAQ,CAACG,OAAT,CAAiBE,OAApC,EAA6C;YAC3CP,QAAQ,CAAC,GAAD,CAAR;UACD,CAFD,MAEO;YACL,IAAIL,MAAM,KAAK,KAAf,EAAsB;cACpBK,QAAQ,CAAC,GAAD,CAAR;YACD;UACF;QACF;MACF,CAhBD;IAiBD,CAlBQ,EAkBN,EAlBM,CAAT;IAoBA,oBAAO,QAAC,iBAAD;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EA1BoE,GAC5DH,mBAD4D;IAAA,QAElDN,WAFkD,EAGlDE,WAHkD;EAAA;;EA4BrE,OAAOI,mBAAP;AACD"},"metadata":{},"sourceType":"module"}